{"message":"unreachable expression","code":{"code":"unreachable_code","explanation":null},"level":"warning","spans":[{"file_name":"src/main.rs","byte_start":6974,"byte_end":6980,"line_start":214,"line_end":214,"column_start":5,"column_end":11,"is_primary":true,"text":[{"text":"    Ok(())","highlight_start":5,"highlight_end":11}],"label":"unreachable expression","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"src/main.rs","byte_start":4535,"byte_end":6968,"line_start":157,"line_end":212,"column_start":5,"column_end":6,"is_primary":false,"text":[{"text":"    loop {","highlight_start":5,"highlight_end":11},{"text":"        events.clear();","highlight_start":1,"highlight_end":24},{"text":"        let res = match syscall!(epoll_wait(","highlight_start":1,"highlight_end":45},{"text":"            epoll_fd,","highlight_start":1,"highlight_end":22},{"text":"            events.as_mut_ptr() as *mut libc::epoll_event,","highlight_start":1,"highlight_end":59},{"text":"            1024,","highlight_start":1,"highlight_end":18},{"text":"            1000 as libc::c_int,","highlight_start":1,"highlight_end":33},{"text":"        )) {","highlight_start":1,"highlight_end":13},{"text":"            Ok(v) => v,","highlight_start":1,"highlight_end":24},{"text":"            Err(e) => panic!(\"error during epoll wait: {}\", e),","highlight_start":1,"highlight_end":64},{"text":"        };","highlight_start":1,"highlight_end":11},{"text":"","highlight_start":1,"highlight_end":1},{"text":"        // safe  as long as the kernel does nothing wrong - copied from mio","highlight_start":1,"highlight_end":76},{"text":"        unsafe { events.set_len(res as usize) };","highlight_start":1,"highlight_end":49},{"text":"        println!(\"requests in flight: {}\", request_contexts.len());","highlight_start":1,"highlight_end":68},{"text":"        for ev in &events {","highlight_start":1,"highlight_end":28},{"text":"            match ev.u64 {","highlight_start":1,"highlight_end":27},{"text":"                100 => {","highlight_start":1,"highlight_end":25},{"text":"                    match listener.accept() {","highlight_start":1,"highlight_end":46},{"text":"                        Ok((stream, addr)) => {","highlight_start":1,"highlight_end":48},{"text":"                            stream.set_nonblocking(true)?;","highlight_start":1,"highlight_end":59},{"text":"                            println!(\"new client: {}\", addr);","highlight_start":1,"highlight_end":62},{"text":"                            key += 1;","highlight_start":1,"highlight_end":38},{"text":"                            add_interest(epoll_fd, stream.as_raw_fd(), listener_read_event(key))?;","highlight_start":1,"highlight_end":99},{"text":"                            request_contexts.insert(key, RequestContext::new(stream));","highlight_start":1,"highlight_end":87},{"text":"                        }","highlight_start":1,"highlight_end":26},{"text":"                        Err(e) => eprintln!(\"couldn't accept: {}\", e),","highlight_start":1,"highlight_end":71},{"text":"                    };","highlight_start":1,"highlight_end":23},{"text":"                    modify_interest(epoll_fd, listener_fd, listener_read_event(100))?;","highlight_start":1,"highlight_end":87},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"                key => {","highlight_start":1,"highlight_end":25},{"text":"                    let mut to_delete = None;","highlight_start":1,"highlight_end":46},{"text":"                    if let Some(context) = request_contexts.get_mut(&key) {","highlight_start":1,"highlight_end":76},{"text":"                        let events: u32 = ev.events;","highlight_start":1,"highlight_end":53},{"text":"                        match events {","highlight_start":1,"highlight_end":39},{"text":"                            v if v as i32 & libc::EPOLLIN == libc::EPOLLIN => {","highlight_start":1,"highlight_end":80},{"text":"                                context.read_cb(key, epoll_fd)?;","highlight_start":1,"highlight_end":65},{"text":"                            }","highlight_start":1,"highlight_end":30},{"text":"                            v if v as i32 & libc::EPOLLOUT == libc::EPOLLOUT => {","highlight_start":1,"highlight_end":82},{"text":"                                context.write_cb(key, epoll_fd)?;","highlight_start":1,"highlight_end":66},{"text":"                                to_delete = Some(key);","highlight_start":1,"highlight_end":55},{"text":"                            }","highlight_start":1,"highlight_end":30},{"text":"                            v if v as i32 & libc::EPOLLOUT == libc::EPOLLOUT => {","highlight_start":1,"highlight_end":82},{"text":"                                context.write_cb(key, epoll_fd)?;","highlight_start":1,"highlight_end":66},{"text":"                                to_delete = Some(key);","highlight_start":1,"highlight_end":55},{"text":"                            }","highlight_start":1,"highlight_end":30},{"text":"                            v => println!(\"unexpected events: {}\", v),","highlight_start":1,"highlight_end":71},{"text":"                        };","highlight_start":1,"highlight_end":27},{"text":"                    }","highlight_start":1,"highlight_end":22},{"text":"                    if let Some(key) = to_delete {","highlight_start":1,"highlight_end":51},{"text":"                        request_contexts.remove(&key);","highlight_start":1,"highlight_end":55},{"text":"                    }","highlight_start":1,"highlight_end":22},{"text":"                }","highlight_start":1,"highlight_end":18},{"text":"            }","highlight_start":1,"highlight_end":14},{"text":"        }","highlight_start":1,"highlight_end":10},{"text":"    }","highlight_start":1,"highlight_end":6}],"label":"any code following this expression is unreachable","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`#[warn(unreachable_code)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: unreachable expression\u001b[0m\n\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m--> \u001b[0m\u001b[0msrc/main.rs:214:5\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m157\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m/\u001b[0m\u001b[0m \u001b[0m\u001b[0m    loop {\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m158\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        events.clear();\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m159\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        let res = match syscall!(epoll_wait(\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m160\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m            epoll_fd,\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m...\u001b[0m\u001b[0m   \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m211\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m        }\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m212\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\u001b[0m \u001b[0m\u001b[0m    }\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|_____-\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12many code following this expression is unreachable\u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m213\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\n\u001b[0m\u001b[1m\u001b[38;5;12m214\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m  \u001b[0m\u001b[0m    Ok(())\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m| \u001b[0m\u001b[0m      \u001b[0m\u001b[0m\u001b[1m\u001b[33m^^^^^^\u001b[0m\u001b[0m \u001b[0m\u001b[0m\u001b[1m\u001b[33munreachable expression\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m    \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `#[warn(unreachable_code)]` on by default\u001b[0m\n\n"}
{"message":"crate `epollServer` should have a snake case name","code":{"code":"non_snake_case","explanation":null},"level":"warning","spans":[{"file_name":"src/main.rs","byte_start":0,"byte_end":0,"line_start":1,"line_end":1,"column_start":1,"column_end":1,"is_primary":true,"text":[],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`#[warn(non_snake_case)]` on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"convert the identifier to snake case: `epoll_server`","code":null,"level":"help","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: crate `epollServer` should have a snake case name\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m|\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mnote\u001b[0m\u001b[0m: `#[warn(non_snake_case)]` on by default\u001b[0m\n\u001b[0m  \u001b[0m\u001b[0m\u001b[1m\u001b[38;5;12m= \u001b[0m\u001b[0m\u001b[1mhelp\u001b[0m\u001b[0m: convert the identifier to snake case: `epoll_server`\u001b[0m\n\n"}
{"message":"2 warnings emitted","code":null,"level":"warning","spans":[],"children":[],"rendered":"\u001b[0m\u001b[1m\u001b[33mwarning\u001b[0m\u001b[0m\u001b[1m: 2 warnings emitted\u001b[0m\n\n"}
